(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{152:function(e,t,a){e.exports=a(196)},157:function(e,t,a){},162:function(e,t,a){},171:function(e,t,a){},173:function(e,t,a){},175:function(e,t,a){},178:function(e,t,a){},180:function(e,t,a){},182:function(e,t,a){},184:function(e,t,a){},186:function(e,t,a){},188:function(e,t,a){},190:function(e,t,a){},192:function(e,t,a){},194:function(e,t,a){},196:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(37),l=a.n(r),s=a(26),o=a(4),i=a(8),m=a(227),u=a(116),p=a.n(u),f=a(118),E=a.n(f),d=a(117),g=a.n(d),b=(a(157),a(12)),h=a(245),v=a(248),N=a(225),j=a(114),O=a.n(j),y=(a(162),a(6)),x=a.n(y),w=a(11),C={SET_USERS:"userdetails/SET_UP",SET_AUTH:"userAuth/SET-AUTH",FETCH_START:"fetchStart",FETCH_SUCCESS:"fetchSuccess",FETCH_FAILURE:"fetchFaiure",BTN_FETCH_START:"btnfetchStart",BTN_FETCH_SUCCESS:"btnfetchSuccess",BTN_FETCH_FAILURE:"btnfetchFaiure",SET_POSTS:"userdetails/SET_POSTS"},S=function(e){return{type:C.SET_USERS,payload:e}},k=function(e){return{type:C.SET_AUTH,payload:e}},_=function(){return{type:C.FETCH_START}},F=function(e){return{type:C.FETCH_SUCCESS}},T=function(e){return{type:C.FETCH_FAILURE,payload:e}},P=function(){return{type:C.BTN_FETCH_START}},U=function(e){return{type:C.BTN_FETCH_SUCCESS}},A=function(e){return{type:C.BTN_FETCH_FAILURE,payload:e}},R=function(e){return{type:C.SET_POSTS,payload:e}},L=function(){var e=Object(w.a)(x.a.mark(function e(t,a,n,c){var r,l;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(_()),e.prev=1,e.next=4,fetch("".concat("https://blooming-falls-55239.herokuapp.com/api","/auth"),{method:"GET",headers:{Accept:"application/json","Content-type":"application/json"},credentials:"include"});case 4:return r=e.sent,e.next=7,r.json();case 7:l=e.sent,200===r.status?(t(a(!0)),n(l),t(F()),console.log(l)):(t(T()),t(a(!1)),n([]),c("/login")),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(1),t(T()),t(a(!1)),n([]),c("/login");case 17:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t,a,n,c){return e.apply(this,arguments)}}(),I=function(){var e=Object(w.a)(x.a.mark(function e(t,a,n,c){var r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(_()),e.prev=1,e.next=4,fetch("".concat("https://blooming-falls-55239.herokuapp.com/api","/users/auth/logout"),{method:"GET",headers:{Accept:"application/json","Content-type":"application/json"},credentials:"include"});case 4:return r=e.sent,e.next=7,r.json();case 7:e.sent,200===r.status&&(t(a(!1)),n([]),t(F()),c("/login")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t,a,n,c){return e.apply(this,arguments)}}(),D=L,B=function(e){return{setUser:function(t){return e(S(t))}}};function H(){var e=B(Object(b.b)()).setUser,t=Object(o.f)(),a=Object(b.b)(),c=n.useState(null),r=Object(i.a)(c,2),l=r[0],s=r[1],m=Boolean(l),u=function(){s(null)};return n.createElement("div",{className:"my-auto"},n.createElement("p",{className:"pdrop","aria-expanded":m?"true":void 0,onClick:function(e){s(e.currentTarget)}},n.createElement(O.a,{className:"drop"})),n.createElement(h.a,{id:"fade-menu",MenuListProps:{"aria-labelledby":"fade-button"},anchorEl:l,open:m,onClose:u,TransitionComponent:N.a},n.createElement(v.a,{onClick:u},"Setting"),n.createElement(v.a,{onClick:u},"Profile"),n.createElement(v.a,{onClick:function(){u(),I(a,e,k,t)}},"Logout")))}var J=a(22),K=Object(J.a)(function(e){return e.userDetail},function(e){return e.user}),z=(a(171),"https://firebasestorage.googleapis.com/v0/b/faceclone-ef407.appspot.com/o/images%2Fpersons%2Fnouser.png?alt=media&token=67743c16-62cf-41b7-94cf-8189540f5a49"),G=function(e){var t=e.data,a=e.search,n=e.focus,r=e.change,l=Object(b.c)(function(e){return e.userAuth});return c.a.createElement(c.a.Fragment,null,n&&r?c.a.createElement("div",{className:"searchWrapper"},c.a.createElement("div",{className:"innerWrapper"},a?c.a.createElement("span",{className:"search1"},"searching... "):null,t.length?t.length>5?t.slice(0,5).map(function(e){return c.a.createElement(s.b,{to:"/timeline/".concat(e.email),className:"link"},a?null:c.a.createElement("div",{className:"searchItem"},c.a.createElement("div",{className:"logbox"},l?c.a.createElement(c.a.Fragment,null,c.a.createElement(s.b,{to:"/timeline/".concat(e.email)},c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:e.profilepic?"".concat(e.profilepic):"".concat(z),alt:""})))):null),c.a.createElement("div",{className:"names"},c.a.createElement("span",{className:"username1"},e.username),c.a.createElement("span",{className:"email1"},e.email))))}):t.map(function(e){return c.a.createElement(s.b,{to:"/timeline/".concat(e.email),className:"link"},a?null:c.a.createElement("div",{className:"searchItem"},c.a.createElement("div",{className:"logbox"},l?c.a.createElement(c.a.Fragment,null,c.a.createElement(s.b,{to:"/timeline/".concat(e.email)},c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:e.profilepic?"".concat(e.profilepic):"".concat(z),alt:""})))):null),c.a.createElement("div",{className:"names"},c.a.createElement("span",{className:"username1"},e.username),c.a.createElement("span",{className:"email1"},e.email))))}):c.a.createElement(c.a.Fragment,null,a?null:c.a.createElement("span",{className:"search1"},"No User Found "))),a?null:t.length>5?c.a.createElement("div",{className:"showmore"},c.a.createElement("span",{className:"show"},"Show More")):null):null)},M=function(){var e=Object(w.a)(x.a.mark(function e(t,a,n){var c,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,fetch("".concat("https://blooming-falls-55239.herokuapp.com/api","/users/search"),{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify(t)});case 4:return c=e.sent,e.next=7,c.json();case 7:r=e.sent,200===c.status&&a(r),n(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),n(!1),console.log(e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t,a,n){return e.apply(this,arguments)}}(),V=Object(J.a)(K,function(e){return{user:e}}),W="https://firebasestorage.googleapis.com/v0/b/faceclone-ef407.appspot.com/o/images%2Fpersons%2Fnouser.png?alt=media&token=67743c16-62cf-41b7-94cf-8189540f5a49";function X(){var e=Object(b.c)(function(e){return e.userAuth}),t=Object(b.c)(V).user,a=Object(n.useState)(""),r=Object(i.a)(a,2),l=r[0],o=r[1],u=Object(n.useState)([]),f=Object(i.a)(u,2),d=f[0],h=f[1],v=Object(n.useState)(!1),N=Object(i.a)(v,2),j=N[0],O=N[1],y=Object(n.useState)(!1),x=Object(i.a)(y,2),w=x[0],C=x[1],S=Object(n.useState)(!1),k=Object(i.a)(S,2),_=k[0],F=k[1];return Object(n.useEffect)(function(){M({text:l},h,O)},[l]),console.log(d),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"topbar "},c.a.createElement("div",{className:"lefttop"},c.a.createElement("h3",{className:"logo"},c.a.createElement("strong",null,c.a.createElement(s.b,{to:"/"},"FaceClone")))),c.a.createElement("div",{className:"centertop"},c.a.createElement(m.a,{className:"searchicon"}),c.a.createElement("input",{type:"text",className:"search",placeholder:"Search email or username",value:l,onFocus:function(){C(!0)},onBlur:function(){setTimeout(function(){C(!1),F(!1)},200)},onChange:function(e){o(e.target.value),F(!0)}}),c.a.createElement(G,{data:d,search:j,focus:w,change:_})),c.a.createElement("div",{className:"righttop"},c.a.createElement("div",{className:"texts"},e?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,c.a.createElement(s.b,{to:"/"},"Home")),c.a.createElement("p",null," ",c.a.createElement(s.b,{to:"/timeline/".concat(t.email)},"Timeline"))):c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,c.a.createElement(s.b,{to:"/login"},"Login")),c.a.createElement("p",null,c.a.createElement(s.b,{to:"/register"},"Signup")))),c.a.createElement("div",{className:"icons"},c.a.createElement("div",{className:"icondiv"},c.a.createElement(p.a,{className:"icon"}),c.a.createElement("span",{className:"count"},"1")),c.a.createElement("div",{className:"icondiv"},c.a.createElement(g.a,{className:"icon"}),c.a.createElement("span",{className:"count"},"2")),c.a.createElement("div",{className:"icondiv"},c.a.createElement(E.a,{className:"icon"}),c.a.createElement("span",{className:"count"},"3"))),c.a.createElement("div",{className:"logbox"},e?c.a.createElement(c.a.Fragment,null,c.a.createElement(s.b,{to:"/timeline/".concat(t.email)},c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:t.profilepic?"".concat(t.profilepic):"".concat(W),alt:""}))),c.a.createElement(H,null)):null))),";")}a(173);var Q=a(228),Y=a(229),q=a(230),Z=a(231),$=a(232),ee=a(233),te=a(234),ae=a(235),ne=a(236),ce=a(119),re=a.n(ce),le=a(250);function se(){return c.a.createElement("div",{className:"sidebar"},c.a.createElement("div",{className:"feedlist mt-2"},c.a.createElement("ul",{className:"list"},c.a.createElement("li",{className:"items"},c.a.createElement(Q.a,{className:"icons"}),"Feeds"),c.a.createElement("li",{className:"items"},c.a.createElement(Y.a,{className:"icons"}),"Chats"),c.a.createElement("li",{className:"items"},c.a.createElement(q.a,{className:"icons"}),"Videos"),c.a.createElement("li",{className:"items"},c.a.createElement(Z.a,{className:"icons"}),"Groups"),c.a.createElement("li",{className:"items"},c.a.createElement($.a,{className:"icons"}),"Bookmarks"),c.a.createElement("li",{className:"items"},c.a.createElement(ee.a,{className:"icons"}),"Questions"),c.a.createElement("li",{className:"items"},c.a.createElement(te.a,{className:"icons"}),"Jobs"),c.a.createElement("li",{className:"items"},c.a.createElement(ae.a,{className:"icons"}),"Events"),c.a.createElement("li",{className:"items"},c.a.createElement(ne.a,{className:"icons"}),"Courses"))),c.a.createElement("div",{className:"text-center fw-bold"},c.a.createElement(le.a,{color:"secondary",className:"buttn"},"Show More")),c.a.createElement("hr",null),c.a.createElement("div",{className:"fdiv"},c.a.createElement("ul",{className:"flists"},c.a.createElement("li",{className:"online"},c.a.createElement("h5",{className:"fw-600"},"Online"),c.a.createElement(re.a,{className:"onlineicon"})),c.a.createElement("li",{className:"fitems"},c.a.createElement("img",{src:"/assets/person/p2.jpg",alt:""}),"Prem Kumar"),c.a.createElement("li",{className:"fitems"},c.a.createElement("img",{src:"/assets/person/p3.jpg",alt:""}),"Prem Kumar"),c.a.createElement("li",{className:"fitems"},c.a.createElement("img",{src:"/assets/person/p4.jpg",alt:""}),"Prem Kumar"),c.a.createElement("li",{className:"fitems"},c.a.createElement("img",{src:"/assets/person/p5.jpg",alt:""}),"Prem Kumar"),c.a.createElement("li",{className:"fitems"},c.a.createElement("img",{src:"/assets/person/p6.jpg",alt:""}),"Prem Kumar"),c.a.createElement("li",{className:"fitems"},c.a.createElement("img",{src:"/assets/person/p7.jpg",alt:""}),"Prem Kumar"),c.a.createElement("li",{className:"fitems"},c.a.createElement("img",{src:"/assets/person/p8.jpg",alt:""}),"Prem Kumar"),c.a.createElement("li",{className:"fitems"},c.a.createElement("img",{src:"/assets/person/p9.jpg",alt:""}),"Prem Kumar"),c.a.createElement("li",{className:"fitems"},c.a.createElement("img",{src:"/assets/person/p10.jpg",alt:""}),"Prem Kumar"))))}a(175);var oe=a(237),ie=a(238),me=a(239),ue=a(240),pe=a(120),fe=a.n(pe),Ee=function(){var e=Object(w.a)(x.a.mark(function e(t,a,n,c){var r,l,s,o,i,m;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=16;break}return e.prev=1,e.next=4,fetch("".concat("https://blooming-falls-55239.herokuapp.com/api","/posts/profile/").concat(n),{headers:{Accept:"application/json","Content-type":"application/json"}});case 4:return r=e.sent,e.next=7,r.json();case 7:l=e.sent,200===r.status?(s=l.sort(function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}),t(c(s))):t(c([])),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:e.next=29;break;case 16:return e.prev=16,e.next=19,fetch("".concat("https://blooming-falls-55239.herokuapp.com/api","/posts/timeline/").concat(a._id),{headers:{Accept:"application/json","Content-type":"application/json"}});case 19:return o=e.sent,e.next=22,o.json();case 22:i=e.sent,200===o.status?(m=i.sort(function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}),t(R(m))):t(R([])),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(16),console.log(e.t1);case 29:case"end":return e.stop()}},e,null,[[1,11],[16,26]])}));return function(t,a,n,c){return e.apply(this,arguments)}}(),de=a(73);a(198);de.a.initializeApp({apiKey:"AIzaSyAjQZQjRNBoKmW6zaVyzfuiIFVBjX3DtOA",authDomain:"faceclone-ef407.firebaseapp.com",projectId:"faceclone-ef407",storageBucket:"faceclone-ef407.appspot.com",messagingSenderId:"886992048182",appId:"1:886992048182:web:8351d43d60aeedfb75c897"});var ge=de.a.storage(),be=a(259),he=(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_HOST:"https://blooming-falls-55239.herokuapp.com/api",REACT_APP_PUBLIC_URL_PERSON:"https://firebasestorage.googleapis.com/v0/b/faceclone-ef407.appspot.com/o/images%2Fpersons%2Fnouser.png?alt=media&token=67743c16-62cf-41b7-94cf-8189540f5a49"}).REACT_APP_PUBLIC_URL,Object(J.a)(K,function(e){return{user:e}})),ve="https://firebasestorage.googleapis.com/v0/b/faceclone-ef407.appspot.com/o/images%2Fpersons%2Fnouser.png?alt=media&token=67743c16-62cf-41b7-94cf-8189540f5a49";function Ne(e){var t=e.username,a=e.setprofileposts,r=Object(b.c)(he).user,l=(Object(b.c)(function(e){return e.userPosts}),Object(b.b)()),s=Object(n.useState)(""),o=Object(i.a)(s,2),m=o[0],u=o[1],p=Object(n.useState)(null),f=Object(i.a)(p,2),E=f[0],d=f[1],g=Object(n.useState)(0),h=Object(i.a)(g,2),v=h[0],N=h[1],j=Object(n.useState)(!1),O=Object(i.a)(j,2),y=O[0],C=O[1],S=function(){var e=Object(w.a)(x.a.mark(function e(n){var c,s,o;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),c={userId:r._id,desc:m},!E&&!m){e.next=22;break}if(!E){e.next=9;break}s=Date.now()+E.name,C(!0);try{ge.ref("images/posts/".concat(s)).put(E).on("state_changed",function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);N(t)},function(e){console.log(e)},function(){ge.ref("images/posts").child(s).getDownloadURL().then(function(){var e=Object(w.a)(x.a.mark(function e(n){var s;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),d(null),C(!1),N(0),c.img=n,e.prev=5,e.next=8,fetch("".concat("https://blooming-falls-55239.herokuapp.com/api","/posts/create"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(c)});case 8:return s=e.sent,e.next=11,s.json();case 11:e.sent,200===s.status&&(u(""),Ee(l,r,t,a)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),console.log(e.t0);case 18:case"end":return e.stop()}},e,null,[[5,15]])}));return function(t){return e.apply(this,arguments)}}())})}catch(n){console.log(n)}e.next=22;break;case 9:return e.prev=9,e.next=12,fetch("".concat("https://blooming-falls-55239.herokuapp.com/api","/posts/create"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(c)});case 12:return o=e.sent,e.next=15,o.json();case 15:e.sent,200===o.status&&(u(""),Ee(l,r,t,a)),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9),console.log(e.t0);case 22:case"end":return e.stop()}},e,null,[[9,19]])}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"share"},c.a.createElement("form",{className:"sharewrapper"},c.a.createElement("div",{className:"sharetop"},c.a.createElement("img",{className:"shareimg",src:r.profilepic?"".concat(r.profilepic):"".concat(ve),alt:""}),c.a.createElement("textarea",{placeholder:"What's in your mind?",rows:"1",name:"sharetext",required:!0,value:m,onChange:function(e){return u(e.target.value)}})),E?c.a.createElement("div",{className:"postimgdiv p-2"},c.a.createElement("img",{src:URL.createObjectURL(E),className:"postimage",alt:""}),c.a.createElement(fe.a,{onClick:function(){return d(null)}})):null,c.a.createElement("hr",null),y?null:c.a.createElement("div",{className:"sharebottom"},c.a.createElement("div",{className:"postoptions"},c.a.createElement("label",{className:"options",htmlFor:"file"},c.a.createElement(oe.a,{htmlColor:"tomato",className:"shareicons"}),c.a.createElement("span",{className:"optiontext"},"Photo/video"),c.a.createElement("input",{type:"file",id:"file",style:{display:"none"},accept:".png,.jpg,.jpeg",onChange:function(e){return d(e.target.files[0])}})),c.a.createElement("div",{className:"options"},c.a.createElement(ie.a,{htmlColor:"blue",className:"shareicons"}),c.a.createElement("span",{className:"optiontext"},"Tag")),c.a.createElement("div",{className:"options"},c.a.createElement(me.a,{htmlColor:"green",className:"shareicons"}),c.a.createElement("span",{className:"optiontext"},"Location")),c.a.createElement("div",{className:"options"},c.a.createElement(ue.a,{htmlColor:"goldenrod",className:"shareicons"}),c.a.createElement("span",{className:"optiontext"},"Feelings"))),c.a.createElement("button",{type:"submit",className:"sharebtn btn btn-success",onClick:S},"Post")),y?c.a.createElement("div",{className:"progress1"},c.a.createElement("span",{className:"upload"},"Uploading ",v,"%"),c.a.createElement(be.a,{variant:"determinate",value:v})):null))}a(178),a(180);var je=a(129),Oe=a(257),ye=a(123),xe=a.n(ye),we=a(254),Ce=a(256),Se=a(255),ke=a(260),_e=a(241),Fe=a(121),Te=a.n(Fe),Pe=(a(182),a(99)),Ue=a.n(Pe),Ae=a(122),Re=a.n(Ae),Le=function(){var e=Object(w.a)(x.a.mark(function e(t,a,n,c,r,l,s){var o;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://blooming-falls-55239.herokuapp.com/api","/posts/").concat(t._id),{method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify({userId:a._id})});case 3:return o=e.sent,e.next=6,o.json();case 6:e.sent,200===o.status&&(t.img?s(t.img):(n(!0),Ee(c,a,r,l))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,a,n,c,r,l,s){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(w.a)(x.a.mark(function e(t,a,n,c,r,l,s){var o,i;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://blooming-falls-55239.herokuapp.com/api","/posts/").concat(c._id),{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify({desc:n,userId:a._id})});case 3:return o=e.sent,e.next=6,o.json();case 6:i=e.sent,200===o.status&&(r(!0),Ee(t,a,l,s)),console.log(i),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,a,n,c,r,l,s){return e.apply(this,arguments)}}(),De=a(57),Be=a.n(De),He="https://firebasestorage.googleapis.com/v0/b/faceclone-ef407.appspot.com/o/images%2Fpersons%2Fnouser.png?alt=media&token=67743c16-62cf-41b7-94cf-8189540f5a49",Je=Object(J.a)(K,function(e){return{user:e}});function Ke(e){var t=e.edit,a=e.post,n=e.fun,r=e.username,l=e.setprofileposts,s=(e.profileUser,c.a.useState(!1)),o=Object(i.a)(s,2),m=o[0],u=o[1],p=c.a.useState(!1),f=Object(i.a)(p,2),E=f[0],d=f[1],g=Object(b.c)(Je).user,h=c.a.useState(a.desc),v=Object(i.a)(h,2),N=v[0],j=v[1],O=Object(b.b)(),y=c.a.useState(!1),x=Object(i.a)(y,2),w=x[0],C=x[1],S=function(){C(!1),n()},k=function(e){ge.refFromURL(e).delete().then(function(){d(!0),Ee(O,g,r,l)}).catch(function(e){console.log(e)})};return c.a.createElement("div",null,c.a.createElement("div",{onClick:function(){C(!0)},className:"divmain"},t?c.a.createElement("div",{className:"divedit"},"Edit"):c.a.createElement("div",{className:"divedit"},"Delete")),c.a.createElement(we.a,{className:"dialog",open:w,onClose:S},t?c.a.createElement(c.a.Fragment,null,c.a.createElement(_e.a,{className:"dialogtitle"},m?c.a.createElement(c.a.Fragment,null,"Updated ",c.a.createElement(Be.a,null)):c.a.createElement(c.a.Fragment,null,"Edit Post ",c.a.createElement(Te.a,{className:"mx-1"}))),c.a.createElement(Se.a,null,c.a.createElement("form",{className:"sharewrapper mt-2"},c.a.createElement("div",{className:"sharetop"},c.a.createElement("img",{className:"shareimg",src:g.profilepic?"".concat(g.profilepic):"".concat(He),alt:""}),c.a.createElement("textarea",{placeholder:"What's in your mind?",rows:"1",name:"sharetextedit",readonly:m?"readonly":null,value:N,onChange:function(e){j(e.target.value)}})))),c.a.createElement(Ce.a,null,m?c.a.createElement(le.a,{onClick:S,className:"canclebtn text-danger"},"OK"):c.a.createElement(c.a.Fragment,null," ",c.a.createElement(le.a,{onClick:S},"Cancel"),c.a.createElement(le.a,{onClick:function(){u(!1),Ie(O,g,N,a,u,r,l)}},"Save")))):c.a.createElement(c.a.Fragment,null,c.a.createElement(_e.a,{className:"dialogtitle"},"Delete ",c.a.createElement(Re.a,{className:"mx-1"})),c.a.createElement(Se.a,null,c.a.createElement(ke.a,{className:"deletetext"},E?c.a.createElement(c.a.Fragment,null,c.a.createElement(Ue.a,{htmlColor:"tomato",className:"mx-1 warn"}),"Post deleted"):c.a.createElement(c.a.Fragment,null,c.a.createElement(Ue.a,{htmlColor:"tomato",className:"mx-1 warn"}),"Do you want to delete this post?"))),c.a.createElement(Ce.a,null,E?null:c.a.createElement(c.a.Fragment,null,c.a.createElement(le.a,{onClick:S,className:"canclebtn text-danger"},"Cancle"),c.a.createElement(le.a,{className:"deletebtn text-success",onClick:function(){d(!1),Le(a,g,d,O,r,l,k)}},"Delete"))))))}var ze=48;function Ge(e){var t=e.post,a=e.username,c=e.setprofileposts,r=e.profileUser,l=n.useState(null),s=Object(i.a)(l,2),o=s[0],m=s[1],u=Boolean(o),p=function(){m(null)},f=[n.createElement(Ke,{edit:!0,post:t,fun:p,username:a,profileUser:r,setprofileposts:c}),n.createElement(Ke,{post:t,fun:p,username:a,setprofileposts:c})];return n.createElement("div",null,n.createElement(Oe.a,{"aria-label":"more",id:"long-button","aria-controls":"long-menu","aria-expanded":u?"true":void 0,"aria-haspopup":"true",onClick:function(e){m(e.currentTarget)}},n.createElement(xe.a,null)),n.createElement(h.a,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:o,open:u,onClose:p,PaperProps:{style:{maxHeight:4.5*ze,width:"20ch"}}},f.map(function(e){return n.createElement(v.a,{key:e,selected:"Pyxis"===e},e)})))}var Me=Object(J.a)(K,function(e){return{user:e}}),Ve=(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_HOST:"https://blooming-falls-55239.herokuapp.com/api",REACT_APP_PUBLIC_URL_PERSON:"https://firebasestorage.googleapis.com/v0/b/faceclone-ef407.appspot.com/o/images%2Fpersons%2Fnouser.png?alt=media&token=67743c16-62cf-41b7-94cf-8189540f5a49"}).REACT_APP_PUBLIC_URL_POSTS,Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_HOST:"https://blooming-falls-55239.herokuapp.com/api",REACT_APP_PUBLIC_URL_PERSON:"https://firebasestorage.googleapis.com/v0/b/faceclone-ef407.appspot.com/o/images%2Fpersons%2Fnouser.png?alt=media&token=67743c16-62cf-41b7-94cf-8189540f5a49"}).REACT_APP_PUBLIC_URL,"https://firebasestorage.googleapis.com/v0/b/faceclone-ef407.appspot.com/o/images%2Fpersons%2Fnouser.png?alt=media&token=67743c16-62cf-41b7-94cf-8189540f5a49");function We(e){var t=e.post,a=e.username,r=e.setprofileposts,l=e.profileUser,s=Object(b.c)(Me).user,o=(Object(b.b)(),Object(n.useState)(t.likes.length)),m=Object(i.a)(o,2),u=m[0],p=m[1],f=Object(n.useState)([]),E=Object(i.a)(f,2),d=E[0],g=E[1],h=Object(n.useState)(t.likes.includes(s._id)),v=Object(i.a)(h,2),N=v[0],j=v[1],O=Object(n.useState)(!0),y=Object(i.a)(O,2),C=y[0],S=y[1];Object(n.useEffect)(function(){try{Object(w.a)(x.a.mark(function e(){var a,n;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://blooming-falls-55239.herokuapp.com/api","/users?userId=").concat(t.userId),{method:"GET",headers:{Accept:"application/json","Content-type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,g(n);case 7:case"end":return e.stop()}},e)}))()}catch(e){console.log(e)}},[t]);var k=function(){var e=Object(w.a)(x.a.mark(function e(a){var n,c;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(a.detail),1!==a.detail){e.next=9;break}return e.next=4,fetch("".concat("https://blooming-falls-55239.herokuapp.com/api","/posts/").concat(t._id,"/like"),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({userId:s._id})});case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,200==n.status?(console.log(c),N?(p(u-1),j(!1)):(p(u+1),j(!0))):console.log(c);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){d._id!==s._id?S(!1):S(!0)}),c.a.createElement("div",{className:"postcard"},c.a.createElement("div",{className:"postwrapper"},c.a.createElement("div",{className:"outertop"},c.a.createElement("div",{className:"posttop"},c.a.createElement("img",{src:d.profilepic?"".concat(d.profilepic):"".concat(Ve),alt:"",className:"postimg"}),c.a.createElement("span",{className:"username"},d.username),c.a.createElement("span",{className:"posttime"},c.a.createElement(je.a,{datetime:t.createdAt}))),C?c.a.createElement(Ge,{post:t,username:a,profileUser:l,setprofileposts:r}):null),c.a.createElement("div",{className:"caption"},c.a.createElement("p",{className:"postdesc"},t.desc)),c.a.createElement("div",{className:"mainmgdiv"},c.a.createElement("img",{src:t.img?"".concat(t.img):null,alt:"",className:"mainimg"})),c.a.createElement("div",{className:"postbottom"},c.a.createElement("div",{className:"bottomleft"},c.a.createElement("img",{src:"/assets/love.png",alt:"",className:"postlove",onClick:k}),c.a.createElement("span",{className:"likecount"},u," people liked this")),c.a.createElement("div",{className:"bottomright"},c.a.createElement("span",{className:"commentcount"},"4 comments")))))}var Xe=Object(J.a)(K,function(e){return{user:e}});function Qe(e){var t=e.username,a=e.sameuser,r=e.profileUser,l=Object(b.c)(Xe).user,s=Object(b.c)(function(e){return e.userPosts}),o=Object(n.useState)([]),m=Object(i.a)(o,2),u=m[0],p=m[1],f=Object(b.b)();return console.log(u),Object(n.useEffect)(function(){Ee(f,l,t,p)},[]),console.log(a),c.a.createElement("div",{className:"centerbar"},t?c.a.createElement(c.a.Fragment,null,a?c.a.createElement(Ne,{username:t,setprofileposts:p}):null,u.map(function(e){return c.a.createElement(We,{username:t,profileUser:r,setprofileposts:p,key:e._id,post:e})})):c.a.createElement(c.a.Fragment,null,c.a.createElement(Ne,null),s.post.map(function(e){return c.a.createElement(We,{key:e._id,post:e})})))}a(184);var Ye=a(124),qe=a.n(Ye),Ze=a(242),$e=a(243),et=a(244),tt=function(){var e=Object(w.a)(x.a.mark(function e(t,a,n){var c,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a){e.next=7;break}return e.next=4,fetch("".concat("https://blooming-falls-55239.herokuapp.com/api","/users/followers?username=").concat(a),{method:"GET",headers:{Accept:"application/json","Content-type":"application/json"}});case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,fetch("".concat("https://blooming-falls-55239.herokuapp.com/api","/users/followers?userId=").concat(n._id),{method:"GET",headers:{Accept:"application/json","Content-type":"application/json"}});case 9:e.t0=e.sent;case 10:return c=e.t0,e.next=13,c.json();case 13:r=e.sent,200===c.status&&t(r),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(0),console.log(e.t1);case 20:case"end":return e.stop()}},e,null,[[0,17]])}));return function(t,a,n){return e.apply(this,arguments)}}(),at=function(){var e=Object(w.a)(x.a.mark(function e(t,a,n){var c,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a){e.next=7;break}return e.next=4,fetch("".concat("https://blooming-falls-55239.herokuapp.com/api","/users/followings?username=").concat(a),{method:"GET",headers:{Accept:"application/json","Content-type":"application/json"}});case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,fetch("".concat("https://blooming-falls-55239.herokuapp.com/api","/users/followings?userId=").concat(n._id),{method:"GET",headers:{Accept:"application/json","Content-type":"application/json"}});case 9:e.t0=e.sent;case 10:return c=e.t0,e.next=13,c.json();case 13:r=e.sent,200===c.status&&t(r),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(0),console.log(e.t1);case 20:case"end":return e.stop()}},e,null,[[0,17]])}));return function(t,a,n){return e.apply(this,arguments)}}(),nt=a(100),ct=a.n(nt),rt=Object(J.a)(K,function(e){return{user:e}}),lt="https://firebasestorage.googleapis.com/v0/b/faceclone-ef407.appspot.com/o/images%2Fpersons%2Fnouser.png?alt=media&token=67743c16-62cf-41b7-94cf-8189540f5a49";function st(e){var t=e.Profile,a=e.username,r=e.follow,l=Object(b.c)(rt).user,o=Object(n.useState)([]),m=Object(i.a)(o,2),u=m[0],p=m[1],f=Object(n.useState)([]),E=Object(i.a)(f,2),d=E[0],g=E[1];Object(n.useEffect)(function(){try{tt(p,a,l),at(g,a,l)}catch(e){console.log(e)}},[r]),console.log(u.length,d.length);var h=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"fdiv2"},c.a.createElement("span",{className:"online mb-1"},c.a.createElement("h5",{className:"fw-600 mb-0 mx-1 followhead"},"Followings(",d.length,")")),0===d.length?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"nofollower"},c.a.createElement(ct.a,{className:"nofollowericon"}),c.a.createElement("span",null,"No Followings Yet"))):null,c.a.createElement("ul",{className:"flists1"},d.map(function(e){return c.a.createElement(s.b,{key:e._id,to:"/timeline/".concat(e.email)},c.a.createElement("li",{className:"fitems1"},c.a.createElement("img",{src:e.profilepic?"".concat(e.profilepic):"".concat(lt),alt:""}),e.username))}))),c.a.createElement("div",{className:"fdiv2"},c.a.createElement("span",{className:"online mb-1"},c.a.createElement("h5",{className:"fw-600 mb-0 mx-1 followhead"},"Followers(",u.length,")")),0===u.length?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"nofollower"},c.a.createElement(ct.a,{className:"nofollowericon"}),c.a.createElement("span",null,"No Followers Yet"))):null,c.a.createElement("ul",{className:"flists1"},u.map(function(e){return c.a.createElement(s.b,{key:e._id,to:"/timeline/".concat(e.email)},c.a.createElement("li",{className:"fitems1"},c.a.createElement("img",{src:e.profilepic?"".concat(e.profilepic):"".concat(lt),alt:""}),e.username))}))))},v=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"upperright"},c.a.createElement("div",{className:"birthday"},c.a.createElement("img",{src:"assets/gift.png",alt:"",className:"birthdayimg"}),c.a.createElement("span",{className:"birthdaytext"},c.a.createElement("b",null,"Prem kumar")," and ",c.a.createElement("b",null,"2 others")," have birthdays today!"))),c.a.createElement(h,null),c.a.createElement("hr",null))},N=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"profilepage"},c.a.createElement("div",{className:"userinfo"},c.a.createElement("h4",null,"About"),c.a.createElement("span",{className:"info"},c.a.createElement(Ze.a,null),"\xa0City\xa0",c.a.createElement("b",null,"Kolkata")),c.a.createElement("span",{className:"info"},c.a.createElement(Ze.a,null),"\xa0From\xa0",c.a.createElement("b",null,"Patna,Bihar")),c.a.createElement("span",{className:"info"},c.a.createElement($e.a,null),"\xa0Goes to\xa0",c.a.createElement("b",null,"Jis College of Engineering")),c.a.createElement("span",{className:"info"},c.a.createElement(et.a,null),"\xa0Relationship\xa0",c.a.createElement("b",null,"Single"))),c.a.createElement(h,null)))};return c.a.createElement("div",{className:"rightbar"},c.a.createElement("div",{className:"rightbarwrapper"},t?c.a.createElement(N,null):c.a.createElement(v,null)),t?null:c.a.createElement("div",{className:"ad"},c.a.createElement("span",{className:"adtext"},"Visit\xa0",c.a.createElement("b",null,"\xa0advertisment"),"\xa0"," ",c.a.createElement(qe.a,{className:"arrow"})),c.a.createElement("img",{src:"assets/ad.jpg",alt:"",className:"adimg"})))}a(186),a(188);function ot(){return c.a.createElement("div",{className:"bottombar"},c.a.createElement("div",{className:"bottombarwrapper"},c.a.createElement("h3",null,c.a.createElement("strong",null,"Designed by FaceClone")),c.a.createElement("p",null,"Contact us at: ",c.a.createElement("strong",null,"premofdbapatna@gmail.com"))))}a(190);var it=a(253);function mt(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"load"},c.a.createElement("div",{className:"loadbox"},c.a.createElement("h1",null,c.a.createElement(it.a,null)),c.a.createElement("h3",{className:"mx-2"},"Loading..."))))}var ut=Object(J.a)(K,function(e){return{user:e}}),pt=function(e){return{setUser:function(t){return e(S(t))}}};function ft(){var e=Object(b.c)(function(e){return e.fetched}).isfetching,t=Object(o.f)(),a=Object(b.c)(ut).user,r=pt(Object(b.b)()).setUser,l=Object(b.c)(function(e){return e.userAuth}),s=Object(b.b)();return console.log(a._id),Object(n.useEffect)(function(){1!=l&&D(s,k,r,t)},[]),Object(n.useEffect)(function(){},[]),c.a.createElement(c.a.Fragment,null,e?c.a.createElement(mt,null):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"outerhome"},c.a.createElement(X,null),c.a.createElement("div",{className:"mainbody"},c.a.createElement(se,null),c.a.createElement(Qe,null),c.a.createElement(st,null))),c.a.createElement(ot,null)))}var Et=a(5),dt=a(39);a(192);function gt(){var e=Object(o.f)(),t=Object(n.useState)({email:"",password:""}),a=Object(i.a)(t,2),r=a[0],l=a[1],m=Object(b.c)(function(e){return e.userAuth}),u=Object(b.c)(function(e){return e.fetched}).isfetching,p=Object(b.c)(function(e){return e.fetchedbtn}).btnfetching,f=Object(b.b)();Object(n.useEffect)(function(){D(f,k,S,e)},[]),m&&e("/");var E=function(e){var t=e.target.name,a=e.target.value;l(Object(dt.a)({},r,Object(Et.a)({},t,a)))},d=function(){var t=Object(w.a)(x.a.mark(function t(a){var n,c,l,s;return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=r.email,c=r.password,f(P()),t.prev=3,t.next=6,fetch("".concat("https://blooming-falls-55239.herokuapp.com/api","/users/auth/login"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:c})});case 6:return l=t.sent,t.next=9,l.json();case 9:s=t.sent,200===l.status?(k(!0),S(s),f(U()),e("/")):f(A(s)),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(3),f(A()),console.log(t.t0),console.log("error");case 18:case"end":return t.stop()}},t,null,[[3,13]])}));return function(e){return t.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,u?c.a.createElement(mt,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(X,null),c.a.createElement("div",{className:"login"},c.a.createElement("div",{className:"loginwrapper"},c.a.createElement("div",{className:"leftlogin"},c.a.createElement("div",{className:"leftcontent"},c.a.createElement("h1",null,c.a.createElement("strong",null,"FaceClone")),c.a.createElement("h5",null,"Connect with friends and world around you on FaceClone."))),c.a.createElement("div",{className:"rightlogin"},c.a.createElement("form",{action:""},c.a.createElement("div",{className:"loginform"},c.a.createElement("input",{type:"email",placeholder:"email",name:"email",value:r.email,onChange:E}),c.a.createElement("input",{type:"password",placeholder:"password",name:"password",value:r.password,onChange:E}),c.a.createElement("button",{type:"submit",className:"logbtn bg-primary cbtn px-3 my-2",onClick:d},p?c.a.createElement(it.a,{size:17,style:{color:"white"}}):"login"," "),c.a.createElement("p",null,"Forgot password?"),c.a.createElement(s.b,{to:"/register"},c.a.createElement("button",{className:"createbtn bg-success cbtn px-3 my-2"},p?c.a.createElement(it.a,{size:17,style:{color:"white"}}):"Create an account"))))))),c.a.createElement(ot,null)))}a(194);var bt=function(){var e=Object(w.a)(x.a.mark(function e(t,a,n){var c,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(_()),e.next=4,fetch("".concat("https://blooming-falls-55239.herokuapp.com/api","/users?username=").concat(n),{method:"GET",headers:{Accept:"application/json","Content-type":"application/json"}});case 4:return c=e.sent,e.next=7,c.json();case 7:r=e.sent,200===c.status&&(t(F()),a(r)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,a,n){return e.apply(this,arguments)}}(),ht=a(128),vt=a.n(ht),Nt=a(131),jt=a(18),Ot=a(125),yt=a.n(Ot),xt=a(126),wt=a.n(xt),Ct=a(127),St=a.n(Ct),kt=Object(jt.a)(we.a)(function(e){var t=e.theme;return{"& .MuDialogContent-root":{padding:t.spacing(2)},"& .MuDialogActions-root":{padding:t.spacing(1)}}}),_t=function(e){var t=e.children,a=e.onClose,n=Object(Nt.a)(e,["children","onClose"]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(_e.a,Object.assign({sx:{m:0,p:2}},n),t,a?c.a.createElement(Oe.a,{"aria-label":"close",onClick:a,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}}},c.a.createElement(yt.a,null)):null))},Ft=Object(J.a)(K,function(e){return{user:e}});function Tt(e){var t=e.sameuser,a=c.a.useState(null),r=Object(i.a)(a,2),l=r[0],s=r[1],m=Object(b.c)(Ft).user,u=Object(o.f)(),p=c.a.useState(!1),f=Object(i.a)(p,2),E=f[0],d=f[1],g=c.a.useState(!1),h=Object(i.a)(g,2),v=h[0],N=h[1],j=Object(n.useState)(0),O=Object(i.a)(j,2),y=O[0],C=O[1],S=Object(n.useState)(!1),k=Object(i.a)(S,2),_=k[0],F=k[1],T=function(){d(!1),s(null)},P=function(e){ge.refFromURL(e).delete().then(function(){}).catch(function(e){console.log(e)})},U=function(){var e=Object(w.a)(x.a.mark(function e(t){var a,n,c;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a={userId:m._id},l){n=Date.now()+l.name,F(!0),c=m.profilepic;try{ge.ref("images/persons/".concat(n)).put(l).on("state_changed",function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);C(t)},function(e){console.log("image error",e)},function(){ge.ref("images/persons").child(n).getDownloadURL().then(function(){var e=Object(w.a)(x.a.mark(function e(t){var n;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.profilepic=t,c&&P(c),s(null),F(!1),N(!0),e.prev=5,e.next=8,fetch("".concat("https://blooming-falls-55239.herokuapp.com/api","/users/").concat(m._id),{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify(a)});case 8:return n=e.sent,e.next=11,n.json();case 11:e.sent,200===n.status&&(N(!0),u(0)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),console.log(e.t0);case 18:case"end":return e.stop()}},e,null,[[5,15]])}));return function(t){return e.apply(this,arguments)}}())})}catch(t){console.log("image error",t)}}case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",null,t?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"propic",onClick:function(){d(!0)}},c.a.createElement(wt.a,{className:"cameraIcon"}))):null,c.a.createElement(kt,{onClose:T,"aria-labelledby":"customized-dialog-title",open:E},c.a.createElement(_t,{id:"customized-dialog-title",onClose:T},"Profile Picture"),c.a.createElement(Se.a,{dividers:!0},c.a.createElement("div",{className:"uploadfile"},l?c.a.createElement("div",{className:"selectedpic"},c.a.createElement("img",{src:URL.createObjectURL(l),className:"viewpic",alt:""}),c.a.createElement("span",{className:"canclepic",onClick:function(){return s(null)}},"Remove Image")):c.a.createElement(c.a.Fragment,null,v?c.a.createElement("span",{className:" text-success fw-bold fs-1 updatedtext"},"Profile Picture Updated ",c.a.createElement(Be.a,{className:"doneicon"})):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"selectedpic"},c.a.createElement(St.a,{className:"nophoto"}),c.a.createElement("span",null,"No file Selected")),c.a.createElement("label",{htmlFor:"propic"},c.a.createElement("div",{className:"selectbox text-center"},c.a.createElement("span",null,"Upload Image")),c.a.createElement("input",{type:"file",id:"propic",style:{display:"none"},accept:".png,.jpg,.jpeg",onChange:function(e){return s(e.target.files[0])}})))))),c.a.createElement(Ce.a,null,c.a.createElement("div",{className:"proload"},l?_?null:c.a.createElement(c.a.Fragment,null,c.a.createElement(le.a,{autoFocus:!0,onClick:U},"UPDATE PROFILE")):null,_?c.a.createElement("div",{className:"progress1"},c.a.createElement("span",{className:"upload"},"Uploading ",y,"%"),c.a.createElement(be.a,{variant:"determinate",value:y})):null))))}var Pt=Object(J.a)(K,function(e){return{user:e}}),Ut=function(e){return{setUser:function(t){return e(S(t))}}},At="https://firebasestorage.googleapis.com/v0/b/faceclone-ef407.appspot.com/o/images%2Fpersons%2Fnouser.png?alt=media&token=67743c16-62cf-41b7-94cf-8189540f5a49";function Rt(){var e=Object(o.g)().username,t=Object(b.c)(function(e){return e.fetched}).isfetching,a=Object(o.f)(),r=Object(b.c)(Pt).user,l=Ut(Object(b.b)()).setUser,s=Object(n.useState)(""),m=Object(i.a)(s,2),u=m[0],p=m[1],f=Object(n.useState)(!0),E=Object(i.a)(f,2),d=E[0],g=E[1],h=Object(b.c)(function(e){return e.userAuth}),v=Object(b.b)(),N=Object(n.useState)(!1),j=Object(i.a)(N,2),O=j[0],y=j[1];Object(n.useEffect)(function(){1!=h&&D(v,k,l,a)},[]),Object(n.useEffect)(function(){bt(v,p,e)},[e]),Object(n.useEffect)(function(){r._id!==u._id?g(!1):g(!0)}),Object(n.useEffect)(function(){u&&y(u.followers.includes(r._id))},[u]);var C=function(){var e=Object(w.a)(x.a.mark(function e(t){var a,n;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,1!==t.detail){e.next=16;break}if(O){e.next=8;break}return e.next=5,fetch("".concat("https://blooming-falls-55239.herokuapp.com/api","/users/").concat(u._id,"/follow"),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({userId:r._id})});case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,fetch("".concat("https://blooming-falls-55239.herokuapp.com/api","/users/").concat(u._id,"/unfollow"),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({userId:r._id})});case 10:e.t0=e.sent;case 11:return a=e.t0,e.next=14,a.json();case 14:n=e.sent,200===a.status?y(!O):console.log(n);case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(0),console.log(e.t1);case 21:case"end":return e.stop()}},e,null,[[0,18]])}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,t?c.a.createElement(mt,null):c.a.createElement(c.a.Fragment,null,u?c.a.createElement(c.a.Fragment,null,c.a.createElement(X,null),c.a.createElement("div",{className:"profile"},c.a.createElement(se,null),c.a.createElement("div",{className:"profileright"},c.a.createElement("div",{className:"profiletop"},c.a.createElement("div",{className:"coverdiv"},c.a.createElement("img",{src:"/assets/posts/po6.jpg",alt:"",className:"coverimg"})),c.a.createElement("img",{src:u.profilepic?"".concat(u.profilepic):"".concat(At),alt:"",className:"proimg"}),c.a.createElement("div",{className:"prohead"},c.a.createElement("div",{className:"inner"},c.a.createElement("span",{className:"proname"},c.a.createElement("b",null,u.username)),c.a.createElement("span",{className:"intro"}," ",c.a.createElement("b",null,u.desc))),c.a.createElement(Tt,{className:"propic",sameuser:d}),d?null:c.a.createElement("div",{className:"folllowdiv"},c.a.createElement("button",{className:" followbtn btn btn-primary",onClick:C},O?c.a.createElement("span",{className:"innertxt"},"Following ",c.a.createElement(Be.a,null)):c.a.createElement("span",{className:"innertxt"},"Follow ",c.a.createElement(vt.a,null)))),c.a.createElement("div",{className:"invisible"}))),c.a.createElement("div",{className:"profilebottom"},c.a.createElement(Qe,{username:e,sameuser:d,profileUser:u}),c.a.createElement(st,{Profile:!0,username:e,follow:O})))),c.a.createElement(ot,null)):c.a.createElement(c.a.Fragment,null,c.a.createElement(X,null),c.a.createElement("h1",null,"Error page"))))}function Lt(){var e=Object(o.f)(),t=Object(n.useState)({username:"",email:"",password:"",confirmpass:""}),a=Object(i.a)(t,2),r=a[0],l=a[1],m=Object(b.c)(function(e){return e.userAuth}),u=Object(b.c)(function(e){return e.fetched}).isfetching,p=Object(b.c)(function(e){return e.fetchedbtn}).btnfetching,f=Object(b.b)(),E=function(e){var t=e.target.name,a=e.target.value;l(Object(dt.a)({},r,Object(Et.a)({},t,a)))},d=function(){var t=Object(w.a)(x.a.mark(function t(a){var n,c,l,s,o;return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=r.username,c=r.email,l=r.password,f(P()),t.prev=3,t.next=6,fetch("".concat("https://blooming-falls-55239.herokuapp.com/api","/users/auth/register"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,email:c,password:l})});case 6:return s=t.sent,t.next=9,s.json();case 9:o=t.sent,200===s.status?(f(U()),e("/")):f(A(o)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),f(A());case 16:case"end":return t.stop()}},t,null,[[3,13]])}));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)(function(){D(f,k,S)},[]),m&&e("/"),c.a.createElement(c.a.Fragment,null,u?c.a.createElement(mt,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(X,null),c.a.createElement("div",{className:"login"},c.a.createElement("div",{className:"loginwrapper"},c.a.createElement("div",{className:"leftlogin"},c.a.createElement("div",{className:"leftcontent"},c.a.createElement("h1",null,c.a.createElement("strong",null,"FaceClone")),c.a.createElement("h5",null,"Connect with friends and world around you on FaceClone."))),c.a.createElement("div",{className:"rightlogin"},c.a.createElement("form",{action:""},c.a.createElement("div",{className:"loginform"},c.a.createElement("input",{type:"text",placeholder:"username",name:"username",onChange:E,value:r.username}),c.a.createElement("input",{type:"email",placeholder:"email",name:"email",onChange:E,value:r.email}),c.a.createElement("input",{type:"password",placeholder:"password",name:"password",onChange:E,value:r.password}),c.a.createElement("input",{type:"password",placeholder:" Confirm password",name:"confirmpass",onChange:E,value:r.confirmpass}),c.a.createElement("button",{type:"submit",className:"logbtn bg-primary cbtn px-3 my-2",onClick:d},p?c.a.createElement(it.a,{size:17,style:{color:"white"}}):"SignUp"),c.a.createElement(s.b,{to:"/login"},c.a.createElement("div",null,c.a.createElement("button",{className:"createbtn bg-success cbtn px-3 my-2"},p?c.a.createElement(it.a,{size:17,style:{color:"white"}}):"Already have an account")))))))),c.a.createElement(ot,null)))}function It(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.c,null,c.a.createElement(o.a,{exact:!0,path:"/",element:c.a.createElement(ft,null)}),c.a.createElement(o.a,{exact:!0,path:"/timeline/:username",element:c.a.createElement(Rt,null)}),c.a.createElement(o.a,{exact:!0,path:"/login",element:c.a.createElement(gt,null)}),c.a.createElement(o.a,{exact:!0,path:"/register",element:c.a.createElement(Lt,null)})))}var Dt=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,null,c.a.createElement(It,null)))},Bt=a(102),Ht={user:[]};var Jt="";var Kt={isfetching:!1,error:!1,fetched:!1};var zt={btnfetching:!1,btnerror:!1,btnfetched:!1};var Gt={post:[]};var Mt=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Vt=Object(Bt.a)({userDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.SET_USERS:return Object(dt.a)({},e,{user:t.payload});default:return e}},userAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case C.SET_AUTH:return n;default:return e}},fetched:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.FETCH_START:return{isfetching:!0,error:!1,fetched:!1};case C.FETCH_SUCCESS:return{isfetching:!1,error:!1,fetched:!0};case C.FETCH_FAILURE:return{isfetching:!1,error:t.payload,fetched:!1};default:return e}},fetchedbtn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.BTN_FETCH_START:return{btnfetching:!0,btnerror:!1,btnfetched:!1};case C.BTN_FETCH_SUCCESS:return{btnisfetching:!1,btnerror:!1,btnfetched:!0};case C.BTN_FETCH_FAILURE:return{btnisfetching:!1,btnerror:t.payload,btnfetched:!1};default:return e}},userPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.SET_POSTS:return Object(dt.a)({},e,{post:t.payload});default:return e}}}),Wt=Object(Bt.b)(Vt,Mt);l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(b.a,{store:Wt},c.a.createElement(Dt,null))),document.getElementById("root"))}},[[152,2,1]]]);
//# sourceMappingURL=main.a40d703a.chunk.js.map